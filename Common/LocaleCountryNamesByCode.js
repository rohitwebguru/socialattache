let LocaleCountryNamesByCode = {
   'AF': 'Afghanistan',
   'AL': 'Albania',
   'DZ': 'Algeria',
   'AS': 'American Samoa',
   'AD': 'Andorra',
   'AO': 'Angola',
   'AI': 'Anguilla',
   'AQ': 'Antarctica',
   'AG': 'Antigua and Barbuda',
   'AR': 'Argentina',
   'AM': 'Armenia',
   'AW': 'Aruba',
   'AU': 'Australia',
   'AT': 'Austria',
   'AZ': 'Azerbaijan',
   'BS': 'Bahamas',
   'BH': 'Bahrain',
   'BD': 'Bangladesh',
   'BB': 'Barbados',
   'BY': 'Belarus',
   'BE': 'Belgium',
   'BZ': 'Belize',
   'BJ': 'Benin',
   'BM': 'Bermuda',
   'BT': 'Bhutan',
   'BO': 'Bolivia',
   'BA': 'Bosnia-Herzegovina',
   'BW': 'Botswana',
   'BV': 'Bouvet Island',
   'BR': 'Brazil',
   'IO': 'British Indian Ocean Territory',
   'BN': 'Brunei Darussalam',
   'BG': 'Bulgaria',
   'BF': 'Burkina Faso',
   'BI': 'Burundi',
   'KH': 'Cambodia',
   'CM': 'Cameroon',
   'CA': 'Canada',
   'CV': 'Cape Verde',
   'KY': 'Cayman Islands',
   'CF': 'Central African Republic',
   'TD': 'Chad',
   'CL': 'Chile',
   'CN': 'China',
   'CX': 'Christmas Island',
   'CC': 'Cocos (Keeling) Islands',
   'CO': 'Colombia',
   'KM': 'Comoros',
   'CG': 'Congo',
   'CD': 'Congo, Dem. Republic',
   'CK': 'Cook Islands',
   'CR': 'Costa Rica',
   'HR': 'Croatia',
   'CU': 'Cuba',
   'CY': 'Cyprus',
   'CZ': 'Czech Rep.',
   'DK': 'Denmark',
   'DJ': 'Djibouti',
   'DM': 'Dominica',
   'DO': 'Dominican Republic',
   'EC': 'Ecuador',
   'EG': 'Egypt',
   'SV': 'El Salvador',
   'GQ': 'Equatorial Guinea',
   'ER': 'Eritrea',
   'EE': 'Estonia',
   'ET': 'Ethiopia',
// NOTE: European Union isn't really a "country" but rather a collection of several countries.
// I don't think EU.INT is a country code, it seems to be the old domain suffix?
   'EU.INT': 'European Union',
   'EU': 'European Union',
   'FK': 'Falkland Islands (Malvinas)',
   'FO': 'Faroe Islands',
   'FJ': 'Fiji',
   'FI': 'Finland',
   'FR': 'France',
   'GF': 'French Guiana',
   'TF': 'French Southern Territories',
   'GA': 'Gabon',
   'GM': 'Gambia',
   'GE': 'Georgia',
   'DE': 'Germany',
   'GH': 'Ghana',
   'GI': 'Gibraltar',
   'GB': 'Great Britain',
   'GR': 'Greece',
   'GL': 'Greenland',
   'GD': 'Grenada',
   'GP': 'Guadeloupe (French)',
   'GU': 'Guam (USA)',
   'GT': 'Guatemala',
   'GG': 'Guernsey',
   'GN': 'Guinea',
   'GW': 'Guinea Bissau',
   'GY': 'Guyana',
   'HT': 'Haiti',
   'HM': 'Heard Island and McDonald Islands',
   'HN': 'Honduras',
   'HK': 'Hong Kong',
   'HU': 'Hungary',
   'IS': 'Iceland',
   'IN': 'India',
   'ID': 'Indonesia',
   'IR': 'Iran',
   'IQ': 'Iraq',
   'IE': 'Ireland',
   'IM': 'Isle of Man',
   'IL': 'Israel',
   'IT': 'Italy',
   'CI': 'Ivory Coast',
   'JM': 'Jamaica',
   'JP': 'Japan',
   'JE': 'Jersey',
   'JO': 'Jordan',
   'KZ': 'Kazakhstan',
   'KE': 'Kenya',
   'KI': 'Kiribati',
   'KP': 'Korea-North',
   'KR': 'Korea-South',
   'KW': 'Kuwait',
   'KG': 'Kyrgyzstan',
   'LA': 'Laos',
   'LV': 'Latvia',
   'LB': 'Lebanon',
   'LS': 'Lesotho',
   'LR': 'Liberia',
   'LY': 'Libya',
   'LI': 'Liechtenstein',
   'LT': 'Lithuania',
   'LU': 'Luxembourg',
   'MO': 'Macau',
   'MK': 'Macedonia',
   'MG': 'Madagascar',
   'MW': 'Malawi',
   'MY': 'Malaysia',
   'MV': 'Maldives',
   'ML': 'Mali',
   'MT': 'Malta',
   'MH': 'Marshall Islands',
   'MQ': 'Martinique (French)',
   'MR': 'Mauritania',
   'MU': 'Mauritius',
   'YT': 'Mayotte',
   'MX': 'Mexico',
   'FM': 'Micronesia',
   'MD': 'Moldova',
   'MC': 'Monaco',
   'MN': 'Mongolia',
   'ME': 'Montenegro',
   'MS': 'Montserrat',
   'MA': 'Morocco',
   'MZ': 'Mozambique',
   'MM': 'Myanmar',
   'NA': 'Namibia',
   'NR': 'Nauru',
   'NP': 'Nepal',
   'NL': 'Netherlands',
   'AN': 'Netherlands Antilles',
   'NC': 'New Caledonia (French)',
   'NZ': 'New Zealand',
   'NI': 'Nicaragua',
   'NE': 'Niger',
   'NG': 'Nigeria',
   'NU': 'Niue',
   'NF': 'Norfolk Island',
   'MP': 'Northern Mariana Islands',
   'NO': 'Norway',
   'OM': 'Oman',
   'PK': 'Pakistan',
   'PW': 'Palau',
   'PA': 'Panama',
   'PG': 'Papua New Guinea',
   'PY': 'Paraguay',
   'PE': 'Peru',
   'PH': 'Philippines',
   'PN': 'Pitcairn Island',
   'PL': 'Poland',
   'PF': 'Polynesia (French)',
   'PT': 'Portugal',
   'PR': 'Puerto Rico',
   'QA': 'Qatar',
   'RE': 'Reunion (French)',
   'RO': 'Romania',
   'RU': 'Russia',
   'RW': 'Rwanda',
   'SH': 'Saint Helena',
   'KN': 'Saint Kitts & Nevis Anguilla',
   'LC': 'Saint Lucia',
   'PM': 'Saint Pierre and Miquelon',
   'VC': 'Saint Vincent & Grenadines',
   'WS': 'Samoa',
   'SM': 'San Marino',
   'ST': 'Sao Tome and Principe',
   'SA': 'Saudi Arabia',
   'SN': 'Senegal',
   'RS': 'Serbia',
   'SC': 'Seychelles',
   'SL': 'Sierra Leone',
   'SG': 'Singapore',
   'SK': 'Slovakia',
   'SI': 'Slovenia',
   'SB': 'Solomon Islands',
   'SO': 'Somalia',
   'ZA': 'South Africa',
   'GS': 'South Georgia & South Sandwich Islands',
   'SS': 'South Sudan',
   'ES': 'Spain',
   'LK': 'Sri Lanka',
   'SD': 'Sudan',
   'SR': 'Suriname',
   'SJ': 'Svalbard and Jan Mayen Islands',
   'SZ': 'Swaziland',
   'SE': 'Sweden',
   'CH': 'Switzerland',
   'SY': 'Syria',
   'TW': 'Taiwan',
   'TJ': 'Tajikistan',
   'TZ': 'Tanzania',
   'TH': 'Thailand',
   'TG': 'Togo',
   'TK': 'Tokelau',
   'TO': 'Tonga',
   'TT': 'Trinidad and Tobago',
   'TN': 'Tunisia',
   'TR': 'Turkey',
   'TM': 'Turkmenistan',
   'TC': 'Turks and Caicos Islands',
   'TV': 'Tuvalu',
   'UK': 'United Kingdom',
   'UG': 'Uganda',
   'UA': 'Ukraine',
   'AE': 'United Arab Emirates',
   'UY': 'Uruguay',
   'US': 'United States',
   'UM': 'USA Minor Outlying Islands',
   'UZ': 'Uzbekistan',
   'VU': 'Vanuatu',
   'VA': 'Vatican',
   'VE': 'Venezuela',
   'VN': 'Vietnam',
   'VG': 'Virgin Islands (British)',
   'VI': 'Virgin Islands (USA)',
   'WF': 'Wallis and Futuna Islands',
   'EH': 'Western Sahara',
   'YE': 'Yemen',
   'ZM': 'Zambia',
   'ZW': 'Zimbabwe'
};

function GetLocaleCountryNamesByCode()
{
   let temp = StrArray('CountryNames', LocaleCountryNamesByCode); /*asort(temp);*/
   return temp;
}

let LocaleCountryNamesLookup = {
   "AFGHANISTAN": "AF",
   "ALBANIA": "AL",
   "ALGERIA": "DZ",
   "AMERICAN SAMOA": "AS",
   "ANDORRA": "AD",
   "ANGOLA": "AO",
   "ANGUILLA": "AI",
   "ANTARCTICA": "AQ",
   "ANTIGUA AND BARBUDA": "AG",
   "ANTIGUA": "AG",
   "BARBUDA": "AG",
   "ARGENTINA": "AR",
   "ARMENIA": "AM",
   "ARUBA": "AW",
   "AUSTRALIA": "AU",
   "AUSTRIA": "AT",
   "AZERBAIJAN": "AZ",
   "BAHAMA": "BS",
   "BAHRAIN": "BH",
   "BANGLADESH": "BD",
   "BARBADO": "BB",
   "BELARU": "BY",
   "BELGIUM": "BE",
   "BELIZE": "BZ",
   "BENIN": "BJ",
   "BERMUDA": "BM",
   "BHUTAN": "BT",
   "BOLIVIA": "BO",
   "BOSNIA-HERZEGOVINA": "BA",
   "BOTSWANA": "BW",
   "BOUVET ISLAND": "BV",
   "BRAZIL": "BR",
   "BRITISH INDIAN OCEAN TERRITORY": "IO",
   "BRUNEI DARUSSALAM": "BN",
   "BULGARIA": "BG",
   "BURKINA FASO": "BF",
   "BURUNDI": "BI",
   "CAMBODIA": "KH",
   "CAMEROON": "CM",
   "CANADA": "CA",
   "CAPE VERDE": "CV",
   "CAYMAN ISLAND": "KY",
   "CENTRAL AFRICAN REPUBLIC": "CF",
   "CHAD": "TD",
   "CHILE": "CL",
   "CHINA": "CN",
   "CHRISTMAS ISLAND": "CX",
   "COCOS (KEELING) ISLAND": "CC",
   "COCOS ISLAND": "CC",
   "COLOMBIA": "CO",
   "COMORO": "KM",
   "CONGO": "CG",
   "CONGO, DEM. REPUBLIC": "CD",
   "COOK ISLAND": "CK",
   "COSTA RICA": "CR",
   "CROATIA": "HR",
   "CUBA": "CU",
   "CYPRU": "CY",
   "CZECH REP.": "CZ",
   "DENMARK": "DK",
   "DJIBOUTI": "DJ",
   "DOMINICA": "DM",
   "DOMINICAN REPUBLIC": "DO",
   "ECUADOR": "EC",
   "EGYPT": "EG",
   "EL SALVADOR": "SV",
   "EQUATORIAL GUINEA": "GQ",
   "ERITREA": "ER",
   "ESTONIA": "EE",
   "ETHIOPIA": "ET",
// NOTE: European Union isn't really a "country" but rather a collection of several countries.
// I don't think EU.INT is a country code, it seems to be the old domain suffix?
//   "EUROPEAN UNION":  "EU.INT",
   "EUROPEAN UNION": "EU",
   "FALKLAND ISLANDS (MALVINAS)": "FK",
   "FALKLAND ISLAND": "FK",
   "FAROE ISLAND": "FO",
   "FIJI": "FJ",
   "FINLAND": "FI",
   "FRANCE": "FR",
   "FRENCH GUIANA": "GF",
   "FRENCH SOUTHERN TERRITORIE": "TF",
   "GABON": "GA",
   "GAMBIA": "GM",
   "GEORGIA": "GE",
   "GERMANY": "DE",
   "GHANA": "GH",
   "GIBRALTAR": "GI",
   "GREAT BRITAIN": "GB",
   "GREECE": "GR",
   "GREENLAND": "GL",
   "GRENADA": "GD",
   "GUADELOUPE (FRENCH)": "GP",
   "GUADELOUPE": "GP",
   "GUAM (USA)": "GU",
   "GUAM": "GU",
   "GUATEMALA": "GT",
   "GUERNSEY": "GG",
   "GUINEA": "GN",
   "GUINEA BISSAU": "GW",
   "GUYANA": "GY",
   "HAITI": "HT",
   "HEARD ISLAND AND MCDONALD ISLAND": "HM",
   "HEARD ISLAND": "HM",
   "MCDONALD ISLAND": "HM",
   "HONDURA": "HN",
   "HONG KONG": "HK",
   "HUNGARY": "HU",
   "ICELAND": "IS",
   "INDIA": "IN",
   "INDONESIA": "ID",
   "IRAN": "IR",
   "IRAQ": "IQ",
   "IRELAND": "IE",
   "ISLE OF MAN": "IM",
   "ISRAEL": "IL",
   "ITALY": "IT",
   "IVORY COAST": "CI",
   "JAMAICA": "JM",
   "JAPAN": "JP",
   "JERSEY": "JE",
   "JORDAN": "JO",
   "KAZAKHSTAN": "KZ",
   "KENYA": "KE",
   "KIRIBATI": "KI",
   "KOREA-NORTH": "KP",
   "KOREA-SOUTH": "KR",
   "KUWAIT": "KW",
   "KYRGYZSTAN": "KG",
   "LAO": "LA",
   "LATVIA": "LV",
   "LEBANON": "LB",
   "LESOTHO": "LS",
   "LIBERIA": "LR",
   "LIBYA": "LY",
   "LIECHTENSTEIN": "LI",
   "LITHUANIA": "LT",
   "LUXEMBOURG": "LU",
   "MACAU": "MO",
   "MACEDONIA": "MK",
   "MADAGASCAR": "MG",
   "MALAWI": "MW",
   "MALAYSIA": "MY",
   "MALDIVE": "MV",
   "MALI": "ML",
   "MALTA": "MT",
   "MARSHALL ISLAND": "MH",
   "MARTINIQUE (FRENCH)": "MQ",
   "MARTINIQUE": "MQ",
   "MAURITANIA": "MR",
   "MAURITIU": "MU",
   "MAYOTTE": "YT",
   "MEXICO": "MX",
   "MICRONESIA": "FM",
   "MOLDOVA": "MD",
   "MONACO": "MC",
   "MONGOLIA": "MN",
   "MONTENEGRO": "ME",
   "MONTSERRAT": "MS",
   "MOROCCO": "MA",
   "MOZAMBIQUE": "MZ",
   "MYANMAR": "MM",
   "NAMIBIA": "NA",
   "NAURU": "NR",
   "NEPAL": "NP",
   "NETHERLAND": "NL",
   "NETHERLANDS ANTILLE": "AN",
   "NEW CALEDONIA (FRENCH)": "NC",
   "NEW CALEDONIA": "NC",
   "NEW ZEALAND": "NZ",
   "NICARAGUA": "NI",
   "NIGER": "NE",
   "NIGERIA": "NG",
   "NIUE": "NU",
   "NORFOLK ISLAND": "NF",
   "NORTHERN MARIANA ISLAND": "MP",
   "NORWAY": "NO",
   "OMAN": "OM",
   "PAKISTAN": "PK",
   "PALAU": "PW",
   "PANAMA": "PA",
   "PAPUA NEW GUINEA": "PG",
   "PARAGUAY": "PY",
   "PERU": "PE",
   "PHILIPPINE": "PH",
   "PITCAIRN ISLAND": "PN",
   "POLAND": "PL",
   "POLYNESIA (FRENCH)": "PF",
   "POLYNESIA": "PF",
   "PORTUGAL": "PT",
   "PUERTO RICO": "PR",
   "QATAR": "QA",
   "REUNION (FRENCH)": "RE",
   "REUNION": "RE",
   "ROMANIA": "RO",
   "RUSSIA": "RU",
   "RWANDA": "RW",
   "SAINT HELENA": "SH",
   "SAINT KITTS & NEVIS ANGUILLA": "KN",
   "SAINT KITT": "KN",
   "NEVIS ANGUILLA": "KN",
   "SAINT LUCIA": "LC",
   "SAINT PIERRE AND MIQUELON": "PM",
   "SAINT PIERRE": "PM",
   "MIQUELON": "PM",
   "SAINT VINCENT & GRENADINE": "VC",
   "SAINT VINCENT": "VC",
   "GRENADINE": "VC",
   "SAMOA": "WS",
   "SAN MARINO": "SM",
   "SAO TOME AND PRINCIPE": "ST",
   "SAO TOME": "ST",
   "PRINCIPE": "ST",
   "SAUDI ARABIA": "SA",
   "SENEGAL": "SN",
   "SERBIA": "RS",
   "SEYCHELLE": "SC",
   "SIERRA LEONE": "SL",
   "SINGAPORE": "SG",
   "SLOVAKIA": "SK",
   "SLOVENIA": "SI",
   "SOLOMON ISLAND": "SB",
   "SOMALIA": "SO",
   "SOUTH AFRICA": "ZA",
   "SOUTH GEORGIA & SOUTH SANDWICH ISLAND": "GS",
   "SOUTH GEORGIA": "GS",
   "SOUTH SANDWICH ISLAND": "GS",
   "SOUTH SUDAN": "SS",
   "SPAIN": "ES",
   "SRI LANKA": "LK",
   "SUDAN": "SD",
   "SURINAME": "SR",
   "SVALBARD AND JAN MAYEN ISLAND": "SJ",
   "SVALBARD": "SJ",
   "JAN MAYEN ISLAND": "SJ",
   "SWAZILAND": "SZ",
   "SWEDEN": "SE",
   "SWITZERLAND": "CH",
   "SYRIA": "SY",
   "TAIWAN": "TW",
   "TAJIKISTAN": "TJ",
   "TANZANIA": "TZ",
   "THAILAND": "TH",
   "TOGO": "TG",
   "TOKELAU": "TK",
   "TONGA": "TO",
   "TRINIDAD AND TOBAGO": "TT",
   "TRINIDAD": "TT",
   "TOBAGO": "TT",
   "TUNISIA": "TN",
   "TURKEY": "TR",
   "TURKMENISTAN": "TM",
   "TURKS AND CAICOS ISLAND": "TC",
   "TURK": "TC",
   "CAICOS ISLAND": "TC",
   "TUVALU": "TV",
   "U.K.": "UK",
   "UNITED KINGDOM": "UK",
   "UGANDA": "UG",
   "UKRAINE": "UA",
   "UNITED ARAB EMIRATE": "AE",
   "URUGUAY": "UY",
   "USA": "US",
   "UNITED STATE": "US",
   "USA MINOR OUTLYING ISLAND": "UM",
   "UZBEKISTAN": "UZ",
   "VANUATU": "VU",
   "VATICAN": "VA",
   "VENEZUELA": "VE",
   "VIETNAM": "VN",
   "VIRGIN ISLANDS (BRITISH)": "VG",
   "VIRGIN ISLAND": "VG",
   "VIRGIN ISLANDS (USA)": "VI",
   "VIRGIN ISLAND": "VI",
   "WALLIS AND FUTUNA ISLAND": "WF",
   "WALLI": "WF",
   "FUTUNA ISLAND": "WF",
   "WESTERN SAHARA": "EH",
   "YEMEN": "YE",
   "ZAMBIA": "ZM",
   "ZIMBABWE": "ZW",
};

LocaleRegionCANamesByCode = {
   'NL': 'Newfoundland and Labrador',
   'PE': 'Prince Edward Island',
   'NS': 'Nova Scotia',
   'NB': 'New Brunswick',
   'QC': 'Quebec',
   'ON': 'Ontario',
   'MB': 'Manitoba',
   'SK': 'Saskatchewan',
   'AB': 'Alberta',
   'BC': 'British Columbia',
   'YT': 'Yukon',
   'NT': 'Northwest Territories',
   'NU': 'Nunavut',
};

function LocaleRegionCANamesByCode()
{
   let temp = StrArray('RegionCANames', LocaleRegionCANamesByCode); /*asort(temp);*/
   return temp;
}

LocaleRegionCANamesLookup = {
   'NEWFOUNDLAND AND LABRADOR': 'NL',
   'PRINCE EDWARD ISLAND': 'PE',
   'NOVA SCOTIA': 'NS',
   'NEW BRUNSWICK': 'NB',
   'QUEBEC': 'QC',
   'ONTARIO': 'ON',
   'MANITOBA': 'MB',
   'SASKATCHEWAN': 'SK',
   'ALBERTA': 'AB',
   'BRITISH COLUMBIA': 'BC',
   'YUKON': 'YT',
   'NORTHWEST TERRITORIES': 'NT',
   'NUNAVUT': 'NU',
};

LocaleRegionUSNamesByCode = {
   'AL': 'Alabama',
   'AK': 'Alaska',
   'AS': 'American Samoa',
   'AZ': 'Arizona',
   'AR': 'Arkansas',
   'CA': 'California',
   'CO': 'Colorado',
   'CT': 'Connecticut',
   'DE': 'Delaware',
   'DC': 'Dist. of Columbia',
   'FL': 'Florida',
   'GA': 'Georgia',
   'GU': 'Guam',
   'HI': 'Hawaii',
   'ID': 'Idaho',
   'IL': 'Illinois',
   'IN': 'Indiana',
   'IA': 'Iowa',
   'KS': 'Kansas',
   'KY': 'Kentucky',
   'LA': 'Louisiana',
   'ME': 'Maine',
   'MD': 'Maryland',
   'MH': 'Marshall Islands',
   'MA': 'Massachusetts',
   'MI': 'Michigan',
   'FM': 'Micronesia',
   'MN': 'Minnesota',
   'MS': 'Mississippi',
   'MO': 'Missouri',
   'MT': 'Montana',
   'NE': 'Nebraska',
   'NV': 'Nevada',
   'NH': 'New Hampshire',
   'NJ': 'New Jersey',
   'NM': 'New Mexico',
   'NY': 'New York',
   'NC': 'North Carolina',
   'ND': 'North Dakota',
   'MP': 'Northern Marianas',
   'OH': 'Ohio',
   'OK': 'Oklahoma',
   'OR': 'Oregon',
   'PW': 'Palau',
   'PA': 'Pennsylvania',
   'PR': 'Puerto Rico',
   'RI': 'Rhode Island',
   'SC': 'South Carolina',
   'SD': 'South Dakota',
   'TN': 'Tennessee',
   'TX': 'Texas',
   'UT': 'Utah',
   'VT': 'Vermont',
   'VA': 'Virginia',
   'VI': 'Virgin Islands',
   'WA': 'Washington',
   'WV': 'West Virginia',
   'WI': 'Wisconsin',
   'WY': 'Wyoming',
};

function LocaleRegionUSNamesByCode()
{
   let temp = StrArray('RegionUSNames', LocaleRegionUSNamesByCode); /*asort(temp);*/
   return temp;
}

LocaleRegionUSNamesLookup = {
   'ALABAMA': 'AL',
   'ALASKA': 'AK',
   'AMERICAN SAMOA': 'AS',
   'ARIZONA': 'AZ',
   'ARKANSAS': 'AR',
   'CALIFORNIA': 'CA',
   'COLORADO': 'CO',
   'CONNECTICUT': 'CT',
   'DELAWARE': 'DE',
   'DIST. OF COLUMBIA': 'DC',
   'FLORIDA': 'FL',
   'GEORGIA': 'GA',
   'GUAM': 'GU',
   'HAWAII': 'HI',
   'IDAHO': 'ID',
   'ILLINOIS': 'IL',
   'INDIANA': 'IN',
   'IOWA': 'IA',
   'KANSAS': 'KS',
   'KENTUCKY': 'KY',
   'LOUISIANA': 'LA',
   'MAINE': 'ME',
   'MARYLAND': 'MD',
   'MARSHALL ISLANDS': 'MH',
   'MASSACHUSETTS': 'MA',
   'MICHIGAN': 'MI',
   'MICRONESIA': 'FM',
   'MINNESOTA': 'MN',
   'MISSISSIPPI': 'MS',
   'MISSOURI': 'MO',
   'MONTANA': 'MT',
   'NEBRASKA': 'NE',
   'NEVADA': 'NV',
   'NEW HAMPSHIRE': 'NH',
   'NEW JERSEY': 'NJ',
   'NEW MEXICO': 'NM',
   'NEW YORK': 'NY',
   'NORTH CAROLINA': 'NC',
   'NORTH DAKOTA': 'ND',
   'NORTHERN MARIANAS': 'MP',
   'OHIO': 'OH',
   'OKLAHOMA': 'OK',
   'OREGON': 'OR',
   'PALAU': 'PW',
   'PENNSYLVANIA': 'PA',
   'PUERTO RICO': 'PR',
   'RHODE ISLAND': 'RI',
   'SOUTH CAROLINA': 'SC',
   'SOUTH DAKOTA': 'SD',
   'TENNESSEE': 'TN',
   'TEXAS': 'TX',
   'UTAH': 'UT',
   'VERMONT': 'VT',
   'VIRGINIA': 'VA',
   'VIRGIN ISLANDS': 'VI',
   'WASHINGTON': 'WA',
   'WEST VIRGINIA': 'WV',
   'WISCONSIN': 'WI',
   'WYOMING': 'WY'
};

LocaleRegionNamesByCode = {
   'CA': LocaleRegionCANamesByCode,
   'US': LocaleRegionUSNamesByCode
};

function LocaleRegionNamesByCode(countryCode)
{
   switch (countryCode)
   {
      case 'CA':
         return LocaleRegionCANamesByCode();
      case 'US':
         return LocaleRegionUSNamesByCode();
      default:
         Log_WriteError("Unrecognized country code \"" + countryCode + "\"!");
         return NULL;
   }
}

LocaleRegionNamesLookup = {
   'CA': LocaleRegionCANamesLookup,
   'US': LocaleRegionUSNamesLookup
};

/*
// DRL FIXIT! We are only searching English language names here!
function _Country_CodeFromName($name, $namesTable, $lookupTable)
{
   // check if it is already a code
   if (strlen($name) == 2 && isset($namesTable[strtoupper($name)]))
      return strtoupper($name);
   
   $names = _CountryGetNameAlternativesForSearch($name);
   
   foreach ($names as $item)
   {
      if (isset($lookupTable[$item]))
         return $lookupTable[$item];
   }
   
   return NULL;
}

function _Country_CodeToName($code, $namesTable)
{
   $code = trim($code);
   if (strlen($code) > 2)
      return $code;  // already a name?
   
   $code = strtoupper($code);
   if (isset($namesTable[$code]))
      return $namesTable[$code];
   
   return NULL;
}

function _CountryGetNameAlternativesForSearch($name)
{
   $name = trim($name);
   if (empty($name))
      return array();
   
   $name = strtoupper($name);
   
   $names = array($name);
   
   // add some alternates
   if ($name == 'UNITED STATES')
      $names[] = 'USA';
   if ($name == 'UNITED KINGDOM')
      $names[] = 'U.K.';
   
   // create a version without bracketed expressions
   if (strpos($name, ' (') !== FALSE)
   {
      $i = strpos($name, ' (');
      $j = strpos($name, ')', $i);
      $n = substr($name, 0, $i) . substr($name, $j+1);
      $names[] = $n;
   }
   
   // add seperate entries for items with & in them
   if (strpos($name, '&') !== FALSE)
   {
      $ns = explode('&', $name);
      foreach ($ns as $n)
      {
         $names[] = $n;
      }
   }
   if (strpos($name, ' AND ') !== FALSE)
   {
      $i = strpos($name, ' AND ');
      $names[] = substr($name, 0, $i);
      $names[] = substr($name, $i+5);
   }
   
   // remove trailing 'S'
   foreach ($names as &$name)
   {
      $name = trim($name);
      if ($name[strlen($name)-1] == 'S')
         $name = substr($name, 0, strlen($name)-1);
   }
   
   return $names;
}

function CountryCodeFromName($name)
{
   global $LocaleCountryNamesByCode, $LocaleCountryNamesLookup;
   
   return _Country_CodeFromName($name, $LocaleCountryNamesByCode, $LocaleCountryNamesLookup);
}

function CountryCodeToName($code)
{
   global $LocaleCountryNamesByCode;
   
   return _Country_CodeToName($code, $LocaleCountryNamesByCode);
}

function RegionCodeFromName($name, $countryCode=NULL)
{
   global $LocaleRegionNamesByCode, $LocaleRegionNamesLookup;
   
   if ($countryCode)
   {
      if (!isset($LocaleRegionNamesByCode[$countryCode]))
      {
         WriteErrorCallStack("Unrecognized country code \"$countryCode\"!");
         return NULL;
      }
      
      $countryCodes = array($countryCode);
   }
   else
      $countryCodes = array_keys($LocaleRegionNamesByCode);
   
   $result = NULL;
   foreach ($countryCodes as $code)
   {
      $result = _Country_CodeFromName($name, $LocaleRegionNamesByCode[$code], $LocaleRegionNamesLookup[$code]);
      if ($result)
         break;
   }
   return $result;
}

function RegionCodeToName($code, $countryCode)
{
   global $LocaleRegionNamesByCode;
   
   if (!isset($LocaleRegionNamesByCode[$countryCode]))
   {
      WriteErrorCallStack("Unrecognized country code \"$countryCode\"!");
      return NULL;
   }
   
   return _Country_CodeToName($code, $LocaleRegionNamesByCode[$countryCode]);
}

if (0)
{
   // to update the $LocaleCountryNamesLookup list, update $LocaleCountryNamesByCode manually and then
   // run this code and copy the output file in place of $LocaleCountryNamesLookup
   
   require_once __DIR__ . '/File.php';
   
   $temp = $LocaleCountryNamesByCode;
   
   // create our initial array sorted with a time zone
   $str = "\$LocaleCountryNamesLookup = array(\r\n";
   foreach ($temp as $code:  $name)
   {
      $names = _CountryGetNameAlternativesForSearch($name);
      
      foreach ($names as $n)
      {
         $str .= '   "' . $n . '":  "' . $code . "\",\r\n";
      }
   }
   $str .= ");\r\n";
   
   File::WriteTextFile("c:/Documents/LocaleCountryCodes.php", $str);
}
*/
